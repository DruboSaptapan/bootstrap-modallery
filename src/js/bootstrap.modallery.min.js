!function(a){a.fn.modallery=function(b){var d=a.extend({title:"Image Gallery",caller:".modallery",size:"",navigate:!1},b);a("body").append('<div class="modal fade" id="mdlyModal" tabindex="-1" role="dialog" aria-labelledby="mdlyLabel"><div class="modal-dialog" id="mdlyDialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;<span></button><h4 class="modal-title" id="mdlyLabel"></h4></div><div class="modal-body"><img id="modallery-img" class="img-responsive" /><p class="text-center" id="modallery-caption"></p></div><div id="mdlyFooter"></div></div></div></div>'),""!==d.size&&(console.log("modal_"+d.size),a("#mdlyDialog").addClass("modal-"+d.size)),d.navigate&&(a("#mdlyFooter").addClass("panel-footer"),a(d.caller).each(function(){var b='<button class="btn btn-default navigator-btn" data-ref="'+a(this).data("to")+'"><img src="'+a(this).attr("src")+'" class="img-responsive" /></button>';a("#mdlyFooter").append(b)})),a(d.caller).click(function(){a("#mdlyLabel").html(d.title),a("#modallery-img").attr("src",a(this).data("to")),a(this).data("caption")?a("#modallery-caption").html(a(this).data("caption")):a("#modallery-caption").html(""),d.navigate&&(a(".navigator-btn").removeClass("highlighted"),a('.navigator-btn[data-ref="'+a(this).data("to")+'"]').addClass("highlighted")),a("#mdlyModal").modal("show")}),a(".navigator-btn").on("click",function(){var b=a('img[data-to="'+a(this).data("ref")+'"]');a("#mdlyLabel").html(d.title),a("#modallery-img").attr("src",b.data("to")),b.data("caption")?a("#modallery-caption").html(b.data("caption")):a("#modallery-caption").html(""),a(".navigator-btn").removeClass("highlighted"),a(this).addClass("highlighted")})}}(jQuery);
